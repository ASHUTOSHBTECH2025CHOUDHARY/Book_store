{"ast":null,"code":"import _defineProperty from\"C:/Users/ashut/Desktop/mern projects/book_store_app/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/ashut/Desktop/mern projects/book_store_app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/ashut/Desktop/mern projects/book_store_app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ashut/Desktop/mern projects/book_store_app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ashut/Desktop/mern projects/book_store_app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Button,Checkbox,FormControlLabel,FormLabel,TextField}from'@mui/material';import axios from'axios';import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Bookdetails=function Bookdetails(){var history=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setinputs=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),checked=_useState4[0],setchecked=_useState4[1];var id=useParams().id;console.log(id);useEffect(function(){var fetchHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:axios.get(\"\".concat(window.location.origin,\"/bookstore/getbook/\").concat(id)).then(function(res){console.log(res.data.Books);setinputs(res.data.Books);}).catch(function(err){return console.log(err);});case 1:case\"end\":return _context.stop();}},_callee);}));return function fetchHandler(){return _ref.apply(this,arguments);};}();fetchHandler();},[id]);var sendrequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.put(\"\".concat(window.location.origin,\"/bookstore/updatebook/\").concat(id),{name:String(inputs.name),author:String(inputs.author),description:String(inputs.description),price:Number(inputs.price),image:String(inputs.image),available:Boolean(checked)}).then(function(res){return res.data;});case 2:case\"end\":return _context2.stop();}},_callee2);}));return function sendrequest(){return _ref2.apply(this,arguments);};}();var handlesubmit=function handlesubmit(e){e.preventDefault();sendrequest().then(function(){return history('/books');});};var handlechange=function handlechange(e){setinputs(function(prestate){return _objectSpread(_objectSpread({},prestate),{},_defineProperty({},e.target.name,e.target.value));});};console.log(inputs);return/*#__PURE__*/_jsx(\"form\",{style:{marginTop:'4%'},onSubmit:handlesubmit,children:/*#__PURE__*/_jsxs(Box,{display:'flex',flexDirection:'column',maxWidth:700,marginLeft:'auto',marginRight:'auto',marginTop:'6%',boxShadow:'5px 5px 10px #ccc',padding:'10px',border:'2px solid black',children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Name\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.name,onChange:handlechange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"name\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Author\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.author,onChange:handlechange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"author\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Description\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.description,onChange:handlechange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"description\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Price\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.price,onChange:handlechange,type:\"number\",margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"price\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Image\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.image,onChange:handlechange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"image\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:checked,onChange:function onChange(){return setchecked(!checked);}}),label:\"Available\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",children:\"Update Book\"})]})});};export default Bookdetails;","map":{"version":3,"names":["Box","Button","Checkbox","FormControlLabel","FormLabel","TextField","axios","React","useEffect","useState","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","Bookdetails","history","_useState","_useState2","_slicedToArray","inputs","setinputs","_useState3","_useState4","checked","setchecked","id","console","log","fetchHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","concat","window","location","origin","then","res","data","Books","catch","err","stop","apply","arguments","sendrequest","_ref2","_callee2","_callee2$","_context2","put","name","String","author","description","price","Number","image","available","Boolean","handlesubmit","e","preventDefault","handlechange","prestate","_objectSpread","_defineProperty","target","value","style","marginTop","onSubmit","children","display","flexDirection","maxWidth","marginLeft","marginRight","boxShadow","padding","border","onChange","margin","fullWidth","variant","type","control","label"],"sources":["C:/Users/ashut/Desktop/mern projects/book_store_app/client/src/components/Books/Bookdetails.jsx"],"sourcesContent":["import { Box, Button, Checkbox, FormControlLabel, FormLabel, TextField } from '@mui/material'\r\nimport axios from 'axios';\r\nimport React,{useEffect, useState} from 'react'\r\nimport { useParams,useNavigate } from 'react-router-dom'\r\n\r\nconst Bookdetails = () => {\r\n  const history=useNavigate();\r\n  const [inputs,setinputs]=useState({})\r\n  const [checked,setchecked]=useState(false);\r\n  const id=useParams().id;\r\n  console.log(id);\r\n  useEffect(() => {\r\n    \r\n    const fetchHandler= async()=>{\r\n       axios.get(`${window.location.origin}/bookstore/getbook/${id}`).then((res)=>{\r\n        console.log(res.data.Books);\r\n        setinputs(res.data.Books)\r\n      }).catch(err=>console.log(err))\r\n    }\r\n    fetchHandler();\r\n  }, [id])\r\n  const sendrequest=async()=>{\r\n    await axios.put(`${window.location.origin}/bookstore/updatebook/${id}`,{\r\n      name:String(inputs.name),\r\n      author:String(inputs.author),\r\n      description:String(inputs.description),\r\n      price:Number(inputs.price),\r\n      image:String(inputs.image),\r\n      available:Boolean(checked)\r\n    }).then((res)=>res.data);\r\n  }\r\n  const handlesubmit=(e)=>{\r\n    e.preventDefault();\r\n    sendrequest().then(()=>history('/books'))\r\n  }\r\n  const handlechange=(e)=>{\r\n    setinputs((prestate)=>({\r\n      ...prestate,\r\n      [e.target.name]:e.target.value,\r\n    }))\r\n  }\r\n  console.log(inputs);\r\n  return (\r\n    <form style={{ marginTop:'4%'}} onSubmit={handlesubmit}>\r\n    <Box display={'flex'} flexDirection={'column'} maxWidth={700} marginLeft={'auto'} marginRight={'auto'} marginTop={'6%'} boxShadow={'5px 5px 10px #ccc'} padding={'10px'} border={'2px solid black'}>\r\n    \r\n    <FormLabel>Name</FormLabel>\r\n    <TextField value={inputs.name} onChange={handlechange} margin='normal' fullWidth variant='outlined' name='name'/>\r\n    \r\n    <FormLabel>Author</FormLabel>\r\n    <TextField value={inputs.author} onChange={handlechange} margin='normal' fullWidth variant='outlined' name='author'/>\r\n    \r\n    <FormLabel>Description</FormLabel>\r\n    <TextField value={inputs.description} onChange={handlechange} margin='normal' fullWidth variant='outlined' name='description'/>\r\n    \r\n    <FormLabel>Price</FormLabel>\r\n    <TextField value={inputs.price} onChange={handlechange} type='number' margin='normal' fullWidth variant='outlined' name='price'/>\r\n    \r\n    <FormLabel>Image</FormLabel>\r\n    <TextField value={inputs.image} onChange={handlechange} margin='normal' fullWidth variant='outlined' name='image'/>\r\n    <FormControlLabel control={<Checkbox checked={checked}  onChange={()=>setchecked(!checked)} />} label='Available'/>\r\n    <Button variant='contained' type='submit'>Update Book</Button>\r\n    </Box>\r\n  </form>\r\n  )\r\n}\r\n\r\nexport default Bookdetails"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}